(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{108:function(e,t,n){},110:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(18),o=n(12),c=n(7),l=n(42),s=(n(56),function(e){return function(t){return function(n){var i=Object(a.useRef)(null);return console.log("wrapper ",n),Object(a.useEffect)(function(){l.a.registerDialog(i.current),n.defineModal(i)},[]),r.a.createElement("dialog",{id:"about",ref:i},r.a.createElement("h2",{className:"modal-heading"},r.a.createElement("span",{className:"modal-heading__text"},e)),r.a.createElement("div",{className:"modal-content"},r.a.createElement(t,null)),r.a.createElement("button",{type:"button",className:"shapes-btn modal-btn__close",onClick:function(){return i.current.close()}},"Close"))}}}("About")(function(){return r.a.createElement("p",null,"This application was developed by ",r.a.createElement("strong",null,"Daniel Mascena"),". His purpose is to use the user inputs, three choosed (clicked) points, on a"," ",r.a.createElement("a",{href:"https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API"},"HTML5 2D Canvas")," ","to draw geometrical shapes: one"," ",r.a.createElement("a",{href:"https://en.wikipedia.org/wiki/Parallelogram"},"Parallelogram")," and a inner ",r.a.createElement("a",{href:"https://en.wikipedia.org/wiki/Circle"},"Circle")," with the same center. To build this application I use the follow stack:"," ",r.a.createElement("a",{href:"https://reactjs.org/"},"ReactJS")," UI Component library,"," ",r.a.createElement("a",{href:"https://github.com/konvajs/react-konva"},"React Konva")," for an easily integration between React and Canvas API, and for the last,"," ",r.a.createElement("a",{href:"https://redux.js.org/"},"Redux.js"),","," ",r.a.createElement("i",null,"the most popular implementation of the Flux Pattern for State Management"),", for serving as a state container for JavaScript apps.")})),u=(n(58),function(){var e=r.a.useState(null),t=Object(c.a)(e,2),n=t[0],a=t[1];return r.a.createElement("header",null,r.a.createElement("h1",{className:"brand-title"},r.a.createElement("span",{className:"brand-title__text"},"Shapes")),r.a.createElement("nav",null,r.a.createElement("input",{className:"open-modal-btn",type:"button",onClick:function(e){n.current.showModal(),e.preventDefault()},value:"About"})),r.a.createElement("aside",null,r.a.createElement(s,{defineModal:a})))}),d=(n(60),function(){return r.a.createElement("footer",null,"\xa9 C/MIND 2020")}),p=function(e){var t=e.children;e.count;return r.a.createElement(r.a.Fragment,null,r.a.createElement(u,null),t,r.a.createElement(d,null))},f=p=Object(o.b)(function(e){return{count:e.count}})(p),m=n(9),h=(n(62),n(20)),E=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;Object(h.a)(this,e),this.x=t,this.y=n,this.id=a},v=function(e){var t=e.pointsSet,n=e.circleRadius,a=e.parallelogramArea,i=Array.from(new Array(4-t.length));return r.a.createElement("aside",{className:"coordinates-container"},r.a.createElement("h3",null,"Coordinates"),r.a.createElement("div",{className:"coordinates-content"},r.a.createElement("ul",null,[].concat(Object(m.a)(t),Object(m.a)(i)).map(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new E,t=arguments.length>1?arguments[1]:void 0;return r.a.createElement("li",{key:t},"Point ".concat(t+1,": ").concat(parseInt(e.x,10)," ").concat(parseInt(e.y,10)))})),r.a.createElement("ul",null,r.a.createElement("li",null,"Parallelogram area: ",parseInt(a,10)),r.a.createElement("li",null,"Circle radius: ",parseInt(n,10)))))},b=v=Object(o.b)(function(e){return{pointsSet:e.pointsSet,circleRadius:e.circleRadius,parallelogramArea:e.parallelogramArea}})(v),g=n(8),y=function(e){var t=e.linePoints,n=e.color,a=void 0===n?"blue":n,i=e.point,o=void 0===i?new E:i;return r.a.createElement(g.Line,{x:o.x,y:o.y,points:t,closed:!0,stroke:a})},w=n(10),S=n(16),x=n.n(S),C=n(43);function O(e,t,n,a){var r=A(N(e,n),N(t,a)),i=Object(c.a)(r,2),o=i[0],l=i[1];return new E(o,l)}function P(e,t,n){var a=N(e,t),r=a.a,i=a.b,o=function(e,t,n,a){return[-1/e,a+n/e]}(r,0,n.x,n.y),l=Object(c.a)(o,2),s=A({a:r,b:i},{a:l[0],b:l[1]}),u=Object(c.a)(s,2),d=j(n,{x:u[0],y:u[1]})*j(e,t);return{area:d,radius:Math.sqrt(d/Math.PI)}}function j(e,t){return Math.sqrt(Math.pow(t.y-e.y,2)+Math.pow(t.x-e.x,2))}function A(e,t){var n=(t.b-e.b)/(e.a-t.a);return[n,e.a*n+e.b]}function R(e){return 1===e?4:e-1}function I(e){return e<4?e+1:1}function N(e,t){var n=T(e,t);return{a:n,b:k(e.x,e.y,n)}}function _(e){var t=Object(c.a)(e,3),n=t[0],a=t[1],r=t[2],i=r.x-a.x+n.x,o=r.y-a.y+n.y;return new E(i,o,r.id+1)}function k(e,t,n){return t-n*e}function T(e,t){return e.x!==t.x?(t.y-e.y)/(t.x-e.x):null}var D={insertPoint:function(e){return{type:"ADDING_POINT",payload:{x:e.x,y:e.y}}},updatePoint:function(e){return{type:"UPDATING_POINT",payload:{newPoint:e}}},setCircleCenter:function(e){return{type:"SET_CIRCLE_CENTER",payload:{x:e.x,y:e.y}}},setAreaRadius:function(e,t){return{type:"SET_AREA_RADIUS",payload:{area:e,radius:t}}},resetShapes:function(){return{type:"RESET_SHAPES"}}};function M(e,t,n,a){var r,i=z.getState(),o=i.pointsSet[e-1],c=N(t,_([t,n,o]));r=a?I(o.id)-1:R(o.id)-1;var l=N(o,i.pointsSet[r]),s=Object(C.a)(E,Object(m.a)(A(c,l)));return s.id=o.id,z.dispatch(D.updatePoint(s)),s}var L=function(e){var t=e.point,n=e.radius,a=e.draggable,i=e.fill,o=e.stroke,c=e.index,l=e.shadowBlur,s=void 0===l?5:l,u=e.shadowOpacity,d=void 0===u?.5:u,p=e.shadowColor,f=void 0===p?"black":p,h={x:t.x,y:t.y,radius:n};void 0!==c&&(h.key=c),"string"===typeof i&&(h.fill=i),"string"===typeof o&&(h.stroke=o),"boolean"===typeof a&&a&&(h=Object(w.a)({},h,{draggable:a,shadowBlur:s,shadowOpacity:d,shadowColor:f,onDragStart:function(e){e.target.setAttrs({shadowOffset:{x:15,y:15},scaleX:1.1,scaleY:1.1})},onDragEnd:function(e){e.target.to({duration:.5,easing:x.a.Easings.ElasticEaseOut,scaleX:1,scaleY:1,shadowOffsetX:5,shadowOffsetY:5})},onDragMove:function(e){var n=e.evt;!function(e,t,n){var a=z.getState(),r=new E(e,t,n.id),i=R(n.id),o=I(n.id);z.dispatch(D.updatePoint(r));var c=P(r,M(i,r,n,!1),M(o,r,n,!0)),l=c.area,s=c.radius;z.dispatch(D.setAreaRadius(l,s));var u=O.apply(void 0,Object(m.a)(a.pointsSet));z.dispatch(D.setCircleCenter(u))}(n.layerX,n.layerY,t)}}));return r.a.createElement(g.Circle,h)},U=function(e){var t=e.points,n=e.pointsSet,i=e.circleCenter,o=e.circleRadius,l=e.dispatch;return Object(a.useEffect)(function(){if(3===n.length){try{!function(e){var t=Object(c.a)(e,2),n=T(t[0],t[1]);if(null===n){if(e[2].x===e[1].x)throw new Error("Point inside the line, click again")}else{var a=k(e[0].x,e[0].y,n);if(e[2].y===n*e[2].x+a)throw new Error("Point inside the line, click again")}}(n)}catch(u){alert(u.message)}var e=function(e){var t=_(e);return[t,O.apply(void 0,Object(m.a)(e).concat([t]))]}(n),t=Object(c.a)(e,2),a=t[0],r=t[1];l(D.insertPoint(a)),l(D.setCircleCenter(r));var i=P(n[0],a,n[1]),o=i.area,s=i.radius;l(D.setAreaRadius(o,s))}},[n.length]),r.a.createElement(r.a.Fragment,null,n.map(function(e,t){return r.a.createElement(L,{point:e,radius:11,index:t,draggable:!0,fill:"red",updateCoords:function(e){return l.call(null,D.updatePoint(e))}})}),r.a.createElement(y,{linePoints:t}),i instanceof E&&r.a.createElement(L,{point:i,radius:o,stroke:"yellow"}))},F=function(e){var t=e.dispatch,n=e.count,a=e.points,i=e.pointsSet,o=e.circleCenter,c=e.circleRadius;return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"shapes-btn",style:{float:"left"},onClick:function(){return t(D.resetShapes())}},"Reset Shapes"),r.a.createElement(g.Stage,{width:window.innerWidth,height:window.innerHeight,onClick:function(e){t(D.insertPoint(e.currentTarget.pointerPos))}},r.a.createElement(g.Layer,null,r.a.createElement(g.Text,{text:"Please choose ".concat(4-n," ").concat(n<3?"points":"point"," to draw a parallelogram"),fontSize:15,fill:"white"}),r.a.createElement(U,{points:a,pointsSet:i,circleCenter:o,circleRadius:c,dispatch:t}))))},H=F=Object(o.b)(function(e){return{count:e.count,points:e.points,pointsSet:e.pointsSet,circleCenter:e.circleCenter,circleRadius:e.circleRadius}})(F),B=n(44),G=n(47),J=n(45),X=n(46),Y=(r.a.Component,{count:0,points:[],pointsSet:[],circleCenter:new E,circleRadius:0,parallelogramArea:0}),W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"CALCULATE_DIFFERENCES_BETWEEN_POINTS":return;case"ADDING_POINT":if(e.count<4){var r=e.count+1,i=new E(a.x,a.y,r),o=[].concat(Object(m.a)(e.pointsSet),[i]);return Object(w.a)({},e,{count:r,points:o.flatMap(function(e){return e&&[e.x,e.y]}),pointsSet:o})}return e;case"UPDATING_POINT":for(var c=a.newPoint,l=[],s=[],u=0;u<e.pointsSet.length;u++){var d=e.pointsSet[u];u===c.id-1?(s.push(c.x,c.y),l.push(c)):(s.push(d.x,d.y),l.push(d))}return Object(w.a)({},e,{points:s,pointsSet:l});case"SET_CIRCLE_CENTER":var p=new E(a.x,a.y);return Object(w.a)({},e,{circleCenter:p});case"SET_AREA_RADIUS":var f=a.area,h=a.radius;return Object(w.a)({},e,{circleRadius:h,parallelogramArea:f});case"RESET_SHAPES":return Y;default:return e}},q=n(19),z=Object(q.b)(W),K=function(){return r.a.createElement(o.a,{store:z},r.a.createElement(f,null,r.a.createElement(b,null),r.a.createElement(H,null)))};n(108);Object(i.render)(r.a.createElement(K,null),document.getElementById("root"))},48:function(e,t,n){e.exports=n(110)},56:function(e,t,n){},58:function(e,t,n){},60:function(e,t,n){},62:function(e,t,n){}},[[48,2,1]]]);
//# sourceMappingURL=main.f5ff0ddb.chunk.js.map